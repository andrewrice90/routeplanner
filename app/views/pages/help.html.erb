<h1>Help </h1>
<br>

 <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>Route Planner Pro</title>
    <style>
      html, body, #map-canvas {
        height: 100%;
        margin: 5px;
        padding: 0px
      }
    </style>
    <a href="https://twitter.com/aaroadwatch" data-query-source="hashtag_click" class="hashtag customisable" dir="ltr" rel="tag" data-scribe="element:hashtag"><b>AARoadwatch</b></a>

<p>The map below shows a map containing every bridge location in the Republic of Ireland</p>
<%= image_tag("bridge1.png", :size => "350x450") %>
   

<script src="http://maps.googleapis.com/maps/api/js?key=AIzaSyDY0kkJiTPVd2U7aTOAwhc9ySH6oHxOIYM&sensor=false"> </script>

<script>
var x=new google.maps.LatLng(53.47497,-7.966805); 
  
  
  
  
function initialize(){
var mapProp = {
  center:x,
  zoom:7,
  mapTypeId:google.maps.MapTypeId.ROADMAP
  };
  
var map=new google.maps.Map(document.getElementById("googleMap"),mapProp);

 var image = {
    url: 'bridge.jpg',
    // This marker is 20 pixels wide by 32 pixels tall.
    size: new google.maps.Size(32, 22),
    // The origin for this image is 0,0.
    origin: new google.maps.Point(0,0),
    // The anchor for this image is the base of the flagpole at 0,32.
    anchor: new google.maps.Point(0, 0)
  }
  
   for(i=0;i<bridgeLatArray.length;i++) {
  var bridge = new google.maps.LatLng(bridgeLatArray[i], bridgeLngArray[i]);
   var marker = new google.maps.Marker({
    position:bridge,
    //title: bridgeDetailArray + "!",
    icon: image,
     
    
  });
  marker.setMap(map);
  
  }
  //for(i=0;i<bridgeHeightArray.length;i++) {
  var infowindow = new google.maps.InfoWindow({
  content: "Height: " + bridgeHeightArray[i],
  
  });
  infowindow.open(map,marker);
  
 //}
  
   

  //zoom in on marker when clicked
  
 google.maps.event.addListener(marker,'click',function() {
  map.setZoom(9);
  map.setCenter(marker.getPosition());
  });

  } 


  
if (window.XMLHttpRequest)
  {// code for IE7+, Firefox, Chrome, Opera, Safari
  xmlhttp=new XMLHttpRequest();
  }
else
  {// code for IE6, IE5
  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
  }
xmlhttp.open("GET","assets/bridges.xml",false);
xmlhttp.send();
xmlDoc=xmlhttp.responseXML;
var myBridges = xmlDoc.getElementsByTagName("name").length;

var bridgeNameArray = new Array();
var bridgeLatArray = new Array();
var bridgeLngArray = new Array();
var bridgeHeightArray = new Array();
var bridgeDetailArray = new Array();

  for(i=0;i<myBridges;i++) {
  
  var bridgeName = xmlDoc.getElementsByTagName("name")[i].childNodes[0].nodeValue;
  var bridgeHeight = xmlDoc.getElementsByTagName("height")[i].childNodes[0].nodeValue;
  var bridgeLat = xmlDoc.getElementsByTagName("lat")[i].childNodes[0].nodeValue;
  var bridgeLatitude = parseFloat(bridgeLat);
  var bridgeLng = xmlDoc.getElementsByTagName("lng")[i].childNodes[0].nodeValue;
    var bridgeLongitude = parseFloat(bridgeLng);
  
  bridgeNameArray[i] = bridgeName;
  bridgeLatArray[i] = bridgeLatitude;
  bridgeLngArray[i] = bridgeLongitude;
  bridgeHeightArray[i] = bridgeHeight;
  bridgeDetailArray[i] = [bridgeName, bridgeLatitude, bridgeLongitude, bridgeHeight];
  //document.write(bridgeDetailArray[i] + "<br >");
  i++;
  }
    

  
google.maps.event.addDomListener(window, 'load', initialize); 
  
</script>

</body>

<div id="googleMap" style="width:510px;height:610px;"></div>